<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>网络抓包</title>
    <link href="/2023/01/19/%E7%BD%91%E7%BB%9C%E6%8A%93%E5%8C%85/"/>
    <url>/2023/01/19/%E7%BD%91%E7%BB%9C%E6%8A%93%E5%8C%85/</url>
    
    <content type="html"><![CDATA[<h4 id="tcpdump"><a href="#tcpdump" class="headerlink" title="tcpdump"></a>tcpdump</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tcpdump -i any -nn host 192.168.233.1 -w test.pcap<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>容器编排 Kubernets</title>
    <link href="/2023/01/19/%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92-Kubernets/"/>
    <url>/2023/01/19/%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92-Kubernets/</url>
    
    <content type="html"><![CDATA[<h4 id="删除pod"><a href="#删除pod" class="headerlink" title="删除pod"></a>删除pod</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>kubectl delete pod cloud-api-manag-6469989887-tw9rk  //删除pod<br><br></code></pre></td></tr></table></figure><h4 id="进入pod"><a href="#进入pod" class="headerlink" title="进入pod"></a>进入pod</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>kubectl <span class="hljs-built_in">exec</span>  tools-qci-operator-76d898686-rskmn -ntce -it bash<br><br></code></pre></td></tr></table></figure><h4 id="修改pod配置"><a href="#修改pod配置" class="headerlink" title="修改pod配置"></a>修改pod配置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>kubectl edit deployment apigw-v3   -n carwynma  //修改pod配置修改<br><br></code></pre></td></tr></table></figure><h4 id="查看pods状态"><a href="#查看pods状态" class="headerlink" title="查看pods状态"></a>查看pods状态</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>kubectl get pod -o wide -n carwynma  //查看状态<br><br></code></pre></td></tr></table></figure><h4 id="查看ns和ip"><a href="#查看ns和ip" class="headerlink" title="查看ns和ip"></a>查看ns和ip</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>kubectl get svc -n carwynma     //查看namespace的状态和upstream的ip<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>容器 Docker</title>
    <link href="/2023/01/19/%E5%AE%B9%E5%99%A8-Docker/"/>
    <url>/2023/01/19/%E5%AE%B9%E5%99%A8-Docker/</url>
    
    <content type="html"><![CDATA[<h4 id="登陆远程镜像仓库"><a href="#登陆远程镜像仓库" class="headerlink" title="登陆远程镜像仓库"></a>登陆远程镜像仓库</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>docker login -u 100017676953 -p <span class="hljs-string">&#x27;CTCD*@fight#2648&#x27;</span>  ccr.ccs.com/api-images<br><br></code></pre></td></tr></table></figure><h4 id="构建镜像"><a href="#构建镜像" class="headerlink" title="构建镜像"></a>构建镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>当前路径准备好Dockerfile<br><br>docker build  --no-cache  -f Dockerfile . -t ccr.ccs.com/api-images/apig-ld:v1.7  --progress=plain &gt;&gt; builder.log   //不使用缓存构建，且输出构建日志到builder.log<br><br></code></pre></td></tr></table></figure><h4 id="显示本地镜像"><a href="#显示本地镜像" class="headerlink" title="显示本地镜像"></a>显示本地镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>docker images|<span class="hljs-built_in">head</span> -n3<br><br></code></pre></td></tr></table></figure><h4 id="推送镜像"><a href="#推送镜像" class="headerlink" title="推送镜像"></a>推送镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>docker push hub.com/api/inspect:0.0.3<br><br></code></pre></td></tr></table></figure><h4 id="运行镜像"><a href="#运行镜像" class="headerlink" title="运行镜像"></a>运行镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>docker run -dit hub.com/api/inspect:0.0.1<br><br></code></pre></td></tr></table></figure><h4 id="进入实例"><a href="#进入实例" class="headerlink" title="进入实例"></a>进入实例</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>docker <span class="hljs-built_in">exec</span> -it a3549e935718716d096dc  bash<br><br></code></pre></td></tr></table></figure><h4 id="清理docker空间"><a href="#清理docker空间" class="headerlink" title="清理docker空间"></a>清理docker空间</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>docker system <span class="hljs-built_in">df</span><br><br>docker system prune --all --force<br><br></code></pre></td></tr></table></figure><h4 id="更改镜像版本号"><a href="#更改镜像版本号" class="headerlink" title="更改镜像版本号"></a>更改镜像版本号</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>docker images -q --filter reference=hub.com/tceforqci_arm/api-nginx-build:v1  //检索需要修改<span class="hljs-built_in">id</span>的镜像<br><br>docker tag  34f3841dbc96    hub.com/tceforqci_arm/api-v1-build-env:v1.0.0 //更改<span class="hljs-built_in">id</span><br><br>docker push hub.com/tceforqci_arm/api-v1-build-env:v1.0.0 //推送镜像<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Linux</title>
    <link href="/2023/01/19/Linux/"/>
    <url>/2023/01/19/Linux/</url>
    
    <content type="html"><![CDATA[<h2 id="cpu篇"><a href="#cpu篇" class="headerlink" title="cpu篇"></a>cpu篇</h2><h4 id="1、具有相同core-id的cpu是同一个core的超线程"><a href="#1、具有相同core-id的cpu是同一个core的超线程" class="headerlink" title="1、具有相同core id的cpu是同一个core的超线程"></a>1、具有相同core id的cpu是同一个core的超线程</h4><h4 id="2、具有相同physical-id的cpu是同一颗cpu封装的线程或者cores"><a href="#2、具有相同physical-id的cpu是同一颗cpu封装的线程或者cores" class="headerlink" title="2、具有相同physical id的cpu是同一颗cpu封装的线程或者cores"></a>2、具有相同physical id的cpu是同一颗cpu封装的线程或者cores</h4><h4 id="逻辑CPU个数"><a href="#逻辑CPU个数" class="headerlink" title="逻辑CPU个数"></a>逻辑CPU个数</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><span class="hljs-built_in">cat</span> /proc/cpuinfo | grep <span class="hljs-string">&quot;processor&quot;</span> | <span class="hljs-built_in">wc</span> -l<br><br></code></pre></td></tr></table></figure><h4 id="物理CPU个数"><a href="#物理CPU个数" class="headerlink" title="物理CPU个数"></a>物理CPU个数</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><span class="hljs-built_in">cat</span> /proc/cpuinfo | grep <span class="hljs-string">&quot;physical id&quot;</span> | <span class="hljs-built_in">sort</span> -u | <span class="hljs-built_in">wc</span> -l<br><br></code></pre></td></tr></table></figure><h4 id="每个物理CPU中Core的个数："><a href="#每个物理CPU中Core的个数：" class="headerlink" title="每个物理CPU中Core的个数："></a>每个物理CPU中Core的个数：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><span class="hljs-built_in">cat</span> /proc/cpuinfo | grep <span class="hljs-string">&quot;cpu cores&quot;</span> | <span class="hljs-built_in">uniq</span> | awk -F: <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span><br><br></code></pre></td></tr></table></figure><h4 id="查看core-id的数量-即为所有物理CPU上的core的个数"><a href="#查看core-id的数量-即为所有物理CPU上的core的个数" class="headerlink" title="查看core id的数量,即为所有物理CPU上的core的个数"></a>查看core id的数量,即为所有物理CPU上的core的个数</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br><span class="hljs-built_in">cat</span> /proc/cpuinfo | grep <span class="hljs-string">&quot;core id&quot;</span> | <span class="hljs-built_in">uniq</span> |  <span class="hljs-built_in">wc</span> -l<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>版本控制 Git</title>
    <link href="/2023/01/19/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6-Git/"/>
    <url>/2023/01/19/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6-Git/</url>
    
    <content type="html"><![CDATA[<h4 id="clone项目及其子项目"><a href="#clone项目及其子项目" class="headerlink" title="clone项目及其子项目"></a>clone项目及其子项目</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> --recursive https://github.com/imtianx/MainProject.git<br></code></pre></td></tr></table></figure><h4 id="GItmodule"><a href="#GItmodule" class="headerlink" title="GItmodule"></a>GItmodule</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git submodule init<br>git submodule update<br>git submodule update --init --recursive<br></code></pre></td></tr></table></figure><h4 id="回退远程分支至某commitid"><a href="#回退远程分支至某commitid" class="headerlink" title="回退远程分支至某commitid"></a>回退远程分支至某commitid</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs git">git reset --hard  committeid<br>git log --oneline<br>git push  -f<br></code></pre></td></tr></table></figure><h4 id="放弃本地所有修改"><a href="#放弃本地所有修改" class="headerlink" title="放弃本地所有修改"></a>放弃本地所有修改</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs git">git checkout .<br></code></pre></td></tr></table></figure><h4 id="删除远程分支"><a href="#删除远程分支" class="headerlink" title="删除远程分支"></a>删除远程分支</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs git">git push origin :***<br></code></pre></td></tr></table></figure><h4 id="删除本地分支"><a href="#删除本地分支" class="headerlink" title="删除本地分支"></a>删除本地分支</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs git">git branch -D  ***<br></code></pre></td></tr></table></figure><h4 id="撤销本地commit并保留代码"><a href="#撤销本地commit并保留代码" class="headerlink" title="撤销本地commit并保留代码"></a>撤销本地commit并保留代码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs git">git reset --soft HEAD~1<br></code></pre></td></tr></table></figure><h4 id="撤销本地commit不保留代码"><a href="#撤销本地commit不保留代码" class="headerlink" title="撤销本地commit不保留代码"></a>撤销本地commit不保留代码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs git">git reset --hard HEAD<br></code></pre></td></tr></table></figure><h4 id="撤销add"><a href="#撤销add" class="headerlink" title="撤销add"></a>撤销add</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs git">git reset HEAD  *<br></code></pre></td></tr></table></figure><h4 id="合并忽律空白冲突"><a href="#合并忽律空白冲突" class="headerlink" title="合并忽律空白冲突"></a>合并忽律空白冲突</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs git">git merge -Xignore-space-change whitespace<br></code></pre></td></tr></table></figure><h4 id="合并某个分支单个commit"><a href="#合并某个分支单个commit" class="headerlink" title="合并某个分支单个commit"></a>合并某个分支单个commit</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs git">git checkout master    //先切换到要合并的分支<br>git cherry-pick 62ecb3    //再使用cherry-pick命令<br></code></pre></td></tr></table></figure><h4 id="按照固定格式查看git记录"><a href="#按照固定格式查看git记录" class="headerlink" title="按照固定格式查看git记录"></a>按照固定格式查看git记录</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs git">git log --pretty=format:&quot;%h:%an, %ar  : %s&quot;<br></code></pre></td></tr></table></figure><h4 id="追加本地修改到上次commit"><a href="#追加本地修改到上次commit" class="headerlink" title="追加本地修改到上次commit"></a>追加本地修改到上次commit</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs git">git commit --amend<br></code></pre></td></tr></table></figure><h4 id="合并当前修改到某次commit"><a href="#合并当前修改到某次commit" class="headerlink" title="合并当前修改到某次commit"></a>合并当前修改到某次commit</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs git">git checkout -b rebase_tmp  //创临时分支用于rebase<br>git stash   //暂存本地修改<br>git rebase -i f744c32^   //移动head到要合并的commit的父提交处<br>找到需要合并的commit, 将行首的pick改成edit, 按esc, 输入:wq退出<br>git stash pop<br>git add .<br>git commit --amend<br>git rebase --continue<br></code></pre></td></tr></table></figure><h4 id="将本地项目推到远程空仓库"><a href="#将本地项目推到远程空仓库" class="headerlink" title="将本地项目推到远程空仓库"></a>将本地项目推到远程空仓库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs git">git init<br>git add .<br>git commit -m &#x27;init&#x27;<br>git remote add origin git@git.woa.com:qcloud_middleware/apigw/compliance.git<br>git pull origin master --allow-unrelated-histories<br>git push -u origin master <br></code></pre></td></tr></table></figure><h4 id="取消远程仓库地址关联"><a href="#取消远程仓库地址关联" class="headerlink" title="取消远程仓库地址关联"></a>取消远程仓库地址关联</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git remote <span class="hljs-built_in">rm</span> origin<br></code></pre></td></tr></table></figure><h4 id="重新关联远程仓库地址"><a href="#重新关联远程仓库地址" class="headerlink" title="重新关联远程仓库地址"></a>重新关联远程仓库地址</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git remote add origin https://github.com/developers-youcong/Metronic_Template.git<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2023/01/16/hello-world/"/>
    <url>/2023/01/16/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
